# üáæüá™ YemenJPT Digital Platform (V15.0 - Automated Deployment)

**YemenJPT** is a self-hosted, integrated digital ecosystem designed specifically to empower journalists and media organizations in Yemen. The platform aims to enhance press freedom by providing a secure environment and a comprehensive suite of tools for Open Source Intelligence (OSINT), information verification, data analysis, and collaborative work.

This document serves as the primary technical guide for deploying and managing the YemenJPT platform using the automated installation script.

---

## ‚ú® 1. Vision & Core Features

The platform is an all-in-one digital workspace providing critical capabilities for the modern investigative journalist and their supporting organization. It is built on the principle of data sovereignty, allowing the entire system to run on private infrastructure.

### Core Platform Modules

| Category                               | Tools & Features                                                                                                                              |
| -------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------- |
| **Investigation & OSINT**              | `SearXNG` (Secure Search), `Sherlock` (Username Search), `Snscrape` (Data Scraping), `Mediacloud` (Media Analysis), **`SpiderFoot`** (OSINT Automation), **`Social Analyzer`** (Digital Footprint), **`Harvester (AP)`** (Data Collection). |
| **Media Verification & Forensics**     | `InVID` (Video), `ExifTool` (Metadata), `FotoForensics`, **`Mean Check`** (Collaborative Fact-Checking), **`Loki`** (Automated Verification), **`Aletheia`** & Deepfake Detectors. |
| **Cognitive Core (YemenGPT)**          | **Dual AI Engine** (`Google Gemini` or local `Ollama`), `Whisper` (Transcription), `Haystack` (Document Q&A), **`Brainerd Dispatch AI`** & `Quaily` (Journalism AI), `Bitbat.ai` (Source Discovery), **Google Colab** integration.      |
| **Financial & Data Journalism** | **`ArkhamMirror`** (Crypto Tracking), **`OpenDuka`** (Corporate Data). |
| **Indicator Lab (IndiLab)**            | `ChangeDetection.io` (Change Monitoring), `ADSBexchange` (Flight Tracking), `NASA FIRMS` (Fire Monitoring).                                           |
| **Organizational Management**          | **`ERPNext`** (Accounting, HR, CRM), for managing internal operations. |
| **Productivity & Workflow**            | **`Vaultwarden`** (Passwords), **`ToolJet`** (Internal Tools), **`Chatwoot`** (Secure Inbox), **`NocoDB`** (Flexible Databases). |
| **Geospatial Analysis**                | **`Ushahidi`** (Crowdsourced Reporting), **`Kepler.gl`** (Large-scale Data Viz), **`QGIS Server`** (Map Publishing). |
| **Content Publishing (CMS)**           | **`Ghost`** (Modern Publishing), `TYPO3 13 LTS` (Enterprise CMS). |
| **Archiving & Data Security**          | `ArchiveBox` (Web Archiving), **`Webrecorder`** (Interactive Archiving). |
| **Collaboration & Automation**         | `Nextcloud` (Files), `Mattermost` (Chat), `Gitea` (Code), `JupyterHub` (Data Journalism), `n8n` (Automation).                                                    |
| **System & Content Management**        | `Glances` (System Monitoring), `Dashy` (Unified Portal), `Uptime Kuma` (Service Status). |


## üèóÔ∏è 2. Core Application Architecture

The application is built on a modern, containerized architecture designed for simplicity and portability.

- **Frontend**: A zoneless **Angular** application, served efficiently by **Nginx**.
- **Backend**: A lightweight **Node.js/Express** API server to handle logging and notifications via a Telegram Bot.
- **Database**: **PostgreSQL** & **MariaDB** serve as the robust, primary databases for the various platform services.
- **Reverse Proxy**: **Traefik** handles all incoming traffic, automates SSL certificate generation via Let's Encrypt and Cloudflare, and routes requests to the appropriate service based on subdomains.
- **Orchestration**: The entire stack is managed and orchestrated via **Docker Compose**, making it easy to deploy and scale. All services are defined in a dynamic `docker-compose.yml` file generated by the installation script.

## üöÄ 3. Automated Deployment Guide

This guide provides simple, automated steps to deploy the entire YemenJPT ecosystem on a fresh **Ubuntu 24.04 LTS** server using the provided installation script.

### 3.1. Prerequisites

1.  **Server**: A fresh Ubuntu 24.04 LTS server (local or cloud) with root access.
2.  **Domain Name**: A domain name that you own.
3.  **Cloudflare Account**: A free Cloudflare account managing your domain's DNS. You will need your account email, a Zone ID, and an API Token.
4.  **Git**: The `git` command-line tool.

### 3.2. Installation Steps

1.  **Clone the Repository**
    ```bash
    git clone https://github.com/YourUsername/YemenJPT-Platform.git
    cd YemenJPT-Platform
    ```

2.  **Configure Environment File (`.env`)**
    This is the most critical step. Copy the example file and fill out all required values using a text editor like `nano`.
    ```bash
    cp .env.example .env
    nano .env
    ```
    -   **Domain & Server IP**: Fill in your main `DOMAIN` and the public IP address of your server (`SERVER_IP`).
    -   **Cloudflare Credentials**: Fill in your `CF_EMAIL`, `CF_ZONE_ID`, and `CF_TOKEN`. For instructions on creating an API token, see the Cloudflare documentation.
    -   **Passwords**: Use a password manager to generate strong, unique passwords for `UNIFIED_PASS`, `MARIADB_ROOT_PASSWORD`, etc. **Do not use simple passwords.**
    -   **(Optional) AI & Bot Keys**: Add your Google Gemini `API_KEY` and Telegram Bot credentials if you wish to use these features.

3.  **Run the Installation Script**
    Make the script executable and run it as root. This script will automate the entire setup process.
    ```bash
    chmod +x install.sh
    sudo ./install.sh
    ```
    The script will perform all necessary steps, including installing Docker, configuring DNS, creating directories, generating configurations, and launching all services. This may take several minutes on the first run.

### 3.3. Accessing the Application

-   After the script finishes, all services will be running. Traefik will automatically obtain SSL certificates for all subdomains.
-   Your main application portal will be accessible at `https://portal.your-domain.com`.
-   All other services will be available on their respective subdomains (e.g., `https://erp.your-domain.com`, `https://search.your-domain.com`).
-   Refer to the final output of the `install.sh` script for a full list of URLs and initial login credentials.

## üîß 4. Maintenance & Updates

-   **Updating the Application**: To update the frontend or backend code, pull the latest changes from your Git repository and run the `deploy.sh` script. This will rebuild only the necessary containers.
    ```bash
    git pull
    sudo ./deploy.sh
    ```
-   **Backups**: All persistent data is stored in Docker volumes within `/opt/presshouse`. You should implement a regular backup strategy for this entire directory.
-   **Viewing Logs**: To see the real-time logs from all running services, navigate to `/opt/presshouse` and run:
    ```bash
    sudo docker compose logs -f
    ```
-   **Stopping the Application**: To stop all services, navigate to `/opt/presshouse` and run:
    ```bash
    sudo docker compose down
    ```